
- summary: |
    Проверка главной страницы
  requirement: |
    Проверка корректного отображения главной страницы
  prerequisites: |
    Перейти по URL https://codebattle.hexlet.io
  test-data: |
    empty
  steps:
    - Открыть браузер
    - Дождаться полной загрузки страницы
  expected-result: |
    Главная страница загружается без ошибок
    Отображаются все элементы интерфейса

- summary: |
    Успешная регистрация с валидными ником и имейлом
  requirement: |
    Регистрация должна выполняться при правильных данных
  prerequisites: |
    Пользователь не зарегистрирован на сайте
    На странице регистрации доступны поля "Ник", "Имейл", "Пароль"
  test-data: |
    empty    
  steps:
    - Открыть страницу регистрации
    - Ввести уникальный ник в поле "Ник"
    - Ввести валидный имейл в поле "Имейл"
    - Ввести допустимый пароль в поле "Пароль"
    - Подтвердить пароль
    - Нажать кнопку "Зарегистрироваться"
  expected-result: |
    Регистрация прошла успешно
    Пользователь перенаправлен в личный кабинет
    В базе данных сохранены правильные ник и имейл

- summary: |
    Невозможность регистрации с уже существующим ником
  requirement: |
    Нельзя зарегистрировать ник, который уже используется
  prerequisites: |
    Ник уже зарегистрирован в системе
  test-data: |
    empty     
  steps:
    - Открыть страницу регистрации
    - Ввести существующий ник
    - Ввести валидный имейл
    - Ввести пароль
    - Подтвердить пароль
    - Нажать "Зарегистрироваться"
  expected-result: |
    Отображается сообщение "Этот ник уже занят"
    Регистрация не выполняется

- summary: |
    Регистрация с неправильным форматом имейла
  requirement: |
    Имейл должен иметь правильный формат
  prerequisites: |
    Страница регистрации доступна
  test-data: |
    empty     
  steps:
    - Ввести ник
    - Ввести некорректный имейл 
    - Ввести пароль
    - Нажать "Зарегистрироваться"
  expected-result: |
    Появляется сообщение о неправильном формате имейла
    Регистрация не выполняется    

- summary: |
    Регистрация с коротким паролем
  requirement: |
    Пароль должен соответствовать требованиям по длине 
  prerequisites: |
    Страница регистрации доступна
  test-data: |
    empty     
  steps:
    - Ввести ник
    - Ввести валидный имейл
    - Ввести короткий пароль (например, менее 6 символов)
    - Нажать "Зарегистрироваться"
  expected-result: |
    Появляется сообщение "Пароль слишком короткий" или подобное
    Регистрация не выполняется

- summary: |
    Проверка регистрации с длинным паролем
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться, используя пароль, который превышает минимальную длину требований системы.
  prerequisites: |
    Страница регистрации доступна
  test-data: |
    empty     
  steps:
    - Ввести ник
    - Ввести валидный имейл
    - Ввести длинный пароль (например, 50 символов)
    - Нажать "Зарегистрироваться"
  expected-result: |
    Регистрация проходит успешно
    Пользователь видит сообщение о успешной регистрации

- summary: |
    Проверка регистрации на сайте с некорректным паролем
  requirement: |
    Система должна запрещать регистрацию с некорректным паролем и отображать соответствующее сообщение об ошибке.
  prerequisites: |
    Пользователь заходит на страницу регистрации
    Сайт работает корректно
  test-data: |
    empty      
  steps:
    - Ввести ник
    - Ввести валидный email
    - Ввести пароль, не соответствующий требованиям (например, без необходимых символов)
    - Нажать кнопку "Зарегистрироваться"
  expected-result: |
    Регистрация не выполняется
    На экране отображается сообщение об ошибке, объясняющее причины некорректного пароля
    Поля для ввода остаются активными для исправления

- summary: |
    Регистрация с незаполненными обязательными полями
  requirement: |
    Все обязательные поля должны быть заполнены
  prerequisites: |
    Страница регистрации доступна
  test-data: |
    empty
  steps:
    - Оставить поля "Ник", "Имейл" и "Пароль" пустыми
    - Нажать "Зарегистрироваться"
  expected-result: |
    Появляются подсказки или сообщения о необходимости заполнить обязательные поля
    Регистрация не происходит

- summary: |
    Успешный вход в личный кабинет с правильными данными
  requirement: |
    Пользователь должен иметь зарегистрированную учетную запись и иметь возможность входа
  prerequisites: |
    Учетная запись пользователя зарегистрирована
    Пользователь на странице входа
  test-data: |
    Тестовые данные
    email = den_bednyakov@mail.ru Пароль = 220690@
  steps:
    - Ввести в поле корректный email
    - Ввести правильный пароль
    - Нажать кнопку "Войти"
  expected-result: |
    Вход выполнен успешно
    Пользователь перенаправлен в личный кабинет
    Отображаются корректные данные пользователя

- summary: |
    Вход с неправильным паролем
  requirement: |
    Попытка входа с неправильным паролем должна приводить к ошибке
  prerequisites: |
    Учетная запись пользователя существует
    Пользователь находится на странице входа
  test-data: |
    empty
  steps:
    - Ввести правильный email
    - Ввести неправильный пароль
    - Нажать "Войти"
  expected-result: |
    Отображается сообщение о неправильных данных входа
    Вход не осуществляется

- summary: |
    Вход без заполнения обязательных полей
  requirement: |
    Все обязательные поля должны быть заполнены для входа
  prerequisites: |
    Страница входа доступна
  test-data: |
    empty
  steps:
    - Оставить поля "Email" и "Пароль" пустыми
    - Нажать "Войти"
  expected-result: |
    Отображаются подсказки или сообщения о необходимости заполнить поля
    Вход не выполняется

- summary: |
    Вход с неправильным форматом email
  requirement: |
    Ввод должен соответствовать формату email
  prerequisites: |
    Страница входа доступна
  test-data: |
    empty      
  steps:
    - Ввести некорректный email (например, без @)
    - Ввести пароль
    - Нажать "Войти"
  expected-result: |
    Появляется сообщение о неправильном формате данных
    Вход не выполняется

- summary: |
    Успешная отправка запроса на восстановление пароля
  requirement: |
    Пользователь должен иметь зарегистрированный аккаунт и возможность восстановить пароль через email
  prerequisites: |
    Пользователь обладает зарегистрированным аккаунтом
    Страница входа доступна
  test-data: |
    empty       
  steps:
    - Перейти на страницу входа
    - Нажать на кнопку или ссылку "Забыли пароль?"
    - Ввести зарегистрированный email в поле восстановления
    - Нажать кнопку "Отправить"
  expected-result: |
    Отображается сообщение о успешной отправке инструкции по восстановлению
    Пользователь получает электронное письмо с инструкциями 

- summary: |
    Проверка восстановления пароля по ссылке из письма
  requirement: |
    Пользователь должен иметь возможность сбросить пароль, перейдя по ссылке из письма, и успешно установить новый пароль.
  prerequisites: |
    Пользователь зарегистрирован и активировал учетную запись
    В системе настроена отправка писем для восстановления пароля
    Пользователь знает свой email, связанный с аккаунтом
  test-data: |
    empty      
  steps:
    - Перейти на страницу входа
    - Нажать "Забыли пароль?"
    - Ввести зарегистрированный email и отправить запрос
    - Проверить почту и открыть письмо с ссылкой для восстановления
    - Перейти по ссылке из письма
    - Ввести новый пароль и подтвердить его
    - Нажать "Сменить пароль" или аналогичную кнопку
  expected-result: |
    После перехода по ссылке откроется страница для установки нового пароля
    Новая форма принимает пароль согласно требованиям системы
    После успешной смены пароля пользователь получает подтверждение
    Пользователь может войти в систему с новым паролем

- summary: |
    Успешный вход в личный кабинет через GitHub
  requirement: |
    Пользователь должен иметь зарегистрированную учетную запись GitHub и связанный аккаунт на сайте
  prerequisites: |
    Учетная запись GitHub активна и связана с аккаунтом на сайте
    Страница входа доступна
  test-data: |
    empty       
  steps:
    - Перейти на страницу входа
    - Нажать кнопку "Войти через GitHub"
  expected-result: |
    Пользователь успешно входит в личный кабинет
    В личном кабинете отображаются правильные данные пользователя
    Пользователь перенаправлен в личный кабинет сайта

- summary: |
    Успешный вход в личный кабинет через Discord
  requirement: |
    Пользователь должен иметь зарегистрированную учетную запись Discord и связанный аккаунт на сайте
  prerequisites: |
    Учетная запись Discord активна и связана с аккаунтом на сайте
    Страница входа доступна
  test-data: |
    empty       
  steps:
    - Перейти на страницу входа
    - Нажать кнопку "Войти через Discord"
  expected-result: |
    Пользователь успешно входит в личный кабинет
    В личном кабинете отображаются правильные данные пользователя
    Пользователь перенаправлен в личный кабинет сайта

- summary: | 
    Проверка отображения игровой информации на главной странице
  requirement: |
    После входа в личный кабинет должна отображаться информация о текущих играх и статистика
  prerequisites: |
    Пользователь успешно прошел вход в личный кабинет
    Страница личного кабинета загружена
  test-data: |
    empty     
  steps:
    - Перейти на главную страницу сайта после входа
    - Подождать, пока страница полностью загрузится
  expected-result: |
    Отображается основное меню навигации (профиль, настройки и др.)
    В верхней части страницы виден профильный блок с именем пользователя
    Отображаются разделы с игрой, статистикой и новостями
    Нет ошибок или пустых элементов

- summary: |
    Успешное создание битвы игры
  requirement: |
    Пользователи должны иметь возможность создать битву 
  prerequisites: |
    Участник зарегистрированы и авторизован на сайте
    Страница для создания соревнования доступна
  test-data: |
    empty     
  steps:
    - Перейти на страницу создания соревнования
    - Необходимые параметры оставляем по умолчанию
    - Нажать "Создать битву"
  expected-result: |
    Соревнование успешно создается
    Соревнование отображается в списке активных

- summary: |
    Успешное создание соревнования между онлайн игроком
  requirement: |
    Пользователи должны иметь возможность создать и начать соревнование между онлайн игроком
  prerequisites: |
    Оба участника зарегистрированы и авторизованы на сайте
    Страница для создания соревнования доступна
  test-data: |
    empty        
  steps:
    - Перейти на страницу создания соревнования
    - Необходимые параметры оставляем по умолчанию 
    - Выбрать тип игры "С другим пользователем"
    - Нажать "Создать битву"
  expected-result: |
    Соревнование успешно создается
    Оба участника получают приглашение или уведомление о начале
    Соревнование отображается в списке активных 

- summary: |
    Успешное создание соревнования с ботом
  requirement: |
    Пользователи должны иметь возможность создать и начать соревнование с ботом
  prerequisites: |
    Страница для создания соревнования доступна
  test-data: |
    empty        
  steps:
    - Перейти на страницу создания соревнования
    - Выбрать тип игры "С ботом"
    - Необходимые параметры оставляем по умолчанию
    - Нажать "Создать битву"
  expected-result: |
    Соревнование успешно создается
    Игра запускаеться
    Соревнование отображается в списке активных

- summary: |
    Успешное создание соревнования с другом
  requirement: |
    Пользователи должны иметь возможность создать и начать соревнование между двух друзей
  prerequisites: |
    Оба участника зарегистрированы и авторизованы на сайте
    Страница для создания соревнования доступна
  test-data: |
    empty        
  steps:
    - Перейти на страницу создания соревнования
    - Необходимые параметры оставляем по умолчанию
    - Выбрать тип игры "С другом"
    - Нажать "Создать приглашение"
  expected-result: |
    Соревнование успешно создается
    Второй учасник получает приглашение в игру
    Соревнование отображается в списке активных

- summary: |
    Обзор соревнующихся и просмотр кода во время соревнования
  requirement: |
    Участники должны иметь возможность видеть написанный код друг у друга в реальном времени
  prerequisites: |
    Создано активное соревнование с двумя игроками
    Оба участника вошли в соревнование
  test-data: |
    empty     
  steps:
    - Открыть соревновательную страницу
    - Начать решение задач
    - Просматривать поле редактора кода другого участника
  expected-result: |
    В режиме реального времени отображается код другого участника
    Можно комментировать или делать заметки внутри кода 

- summary: | 
    Проверка адаптивности главной страницы на мобильных устройствах
  requirement: |
    Сайт должен корректно отображаться и быть удобным для навигации на мобильных устройствах
  prerequisites: |
    Мобильное устройство (смартфон или планшет)
    Подключение к интернету
    Использование современных браузеров (Chrome, Safari, Firefox и т.д.)
  test-data: |
    empty     
  steps:
    - Открыть сайт на мобильном устройстве
    - Проверить корректность отображения элементов страницы
    - Попробовать прокрутить страницу
    - Переключаться между разделами меню
  expected-result: |
    Все элементы страницы отображаются полностью без горизонтальной прокрутки
    Размер текста и кнопок подходит для касаний пальцами
    Навигационное меню удобно использовать
    Изображения и блоки адаптированы под размер экрана    

- summary: |
    Проверка отображения сайта в последних версиях браузера
  requirement: |
    Сайт должен корректно отображаться и функционировать на последних версиях популярных браузеров.
  prerequisites: |
    Использование последней версии браузеров Chrome, Firefox, Edge, Safari
    Компьютер с установленным обновленным браузером
    Интернет-соединение
  test-data: |
    empty       
  steps:
    - Открыть сайт в последней версии каждого браузера по очереди
    - Проверить отображение основных элементов шрифты, изображения, меню, кнопки
    - Выполнить основные действия переходы, формы, выполнения задач
    - Обновлять страницу для проверки стабильности и отображения
  expected-result: |
    Сайт отображается без ошибок, все элементы видны и работают правильно
    Взаимодействия прошли без задержек или сбоев
    Не возникло проблем с отображением или функциональностью
    Нет ошибок в консоли браузера

- summary: |
    Проверка работы сайта при одновременной нагрузке 1000 пользователей
  requirement: | 
    Сайт должен стабильно функционировать и корректно обслуживать до 1000 одновременных пользователей.
  prerequisites: |
    Настроена тестовая среда или сервер с возможностью имитировать большое количество подключений
    Использование инструментов для нагрузочного тестирования
    Все основные сервисы сайта запущены и настроены
  test-data: |
    empty       
  steps:
    - Настроить сценарий нагрузочного тестирования с 1000 виртуальных пользователей
    - Запустить сценарий на определенный период (например, 10 минут)
    - Наблюдать за откликами сервера, временем загрузки страниц и стабильностью
    - Зафиксировать возникшие ошибки, задержки или сбои
  expected-result: |
    Сайт стабильно обрабатывает 1000 одновременных запросов без падений
    Время отклика системы остается в допустимых пределах
    Нет ошибок сервера, ошибок базы данных или сбоев в работе функционала
    Нет превышения допустимого уровня ошибок
    
- summary: |
    Проверка корректного отображения рейтинга
  requirement: |
    Рейтинг участников должен отображаться правильно и обновляться после завершения соревнований.
  prerequisites: |
    Пользователь зарегистрирован и входит в систему
    Прошел предыдущие соревнования или есть тестовые данные рейтинга
    Система активна и содержит данные о рейтинге
  test-data: |
    empty      
  steps:
    - Перейти на страницу с рейтингом
    - Обратить внимание на порядок, значки и значения рейтинга
    - Завершить тестовое соревнование или дождаться обновления рейтинга
    - Обновить страницу и проверить актуальность данных
  expected-result: |
    Рейтинг отображается корректно и соответствует данным системы
    После завершения соревнования рейтинг обновляется и отображается свежими значениями 
    Нет ошибок отображения или некорректных данных

- summary: | 
    Проверка создания новой игры пользователем
  requirement: |
    Пользователь должен иметь возможность авторизоваться и создать новую игру, выбрав язык (по умолчанию).
  prerequisites: |
    Пользователь зарегистрирован и вошел в систему
    Игра не запущена, сервер работает корректно
  test-data: |
    empty      
  steps:
    - Войти в систему
    - Нажать кнопку "Create game"
    - Выбрать язык программирования (или оставить по умолчанию)
  expected-result: |
    Игра успешно создаётся и появляется в списке доступных игр
    Пользователь автоматически подключается к игре
    Игра отображается как "доступная для подключения" для других пользователей

- summary: |
    Проверка подключения второго игрока к существующей игре
  requirement: |
    Второй пользователь должен иметь возможность подключиться к доступной игре.
  prerequisites: |
    Первая игра создана и находится в режиме ожидания второго игрока
    Вторая учетная запись зарегистрирована и авторизована
  test-data: |
    empty      
  steps:
    - Войти в систему под второй учетной записью
    - Найти доступную игру
    - Нажать "connect to game"
  expected-result: |
    Второй пользователь успешно подключается к игре
    Оба игрока видят интерфейс с двумя редакторами, таймером, заданием
    игра переходит в режим активного игрового процесса
 
- summary: |
    Проверка отображения редакторов
  requirement: | 
    В процессе игры оба игрока должны видеть код друг друга в реальном времени.
  prerequisites: |
    Игра активна с двумя подключенными игроками
  test-data: |
    empty      
  steps:
    - Ввести или изменить код в редакторе
    - Обновить страницу или дождаться автоматического обновления
  expected-result: |
    Обе стороны видят актуальный код друг друга без задержек
    В режиме реального времени изменение отображается у обоих
 
- summary: |
    Проверка функции "check"
  requirement: |
    Пользователь должен иметь возможность проверять решение с неограниченным количеством попыток.
  prerequisites: |
    Игра активно идет
    У обоих игроков есть код, готовый для проверки
  test-data: |
    empty      
  steps:
    - Нажать кнопку "check" в редакторе
    - Подождать результат проверки
    - Повторять по необходимости
  expected-result: |
    В случае правильного решения появляется сообщение о победе
    В случае неправильного решения можно повторить проверку
    В случае победы, выводится модальное окно с победителем

- summary: |
    Игра начинается только после подключения второго игрока
  requirement: |
    Игра должна автоматически переходить в активный режим только после успешного присоединения второго игрока.
  prerequisites: |
    Первый игрок зарегистрирован и создал новую игру (ожидающую второго игрока)
    Второй игрок зарегистрирован и авторизован
  test-data: |
    empty      
  steps:
    - Первый игрок создает игру и ожидает подключение соперника
    - Проверить, что первый игрок находится в режиме ожидания и игра не началась
    - Второй игрок видит игру в списке доступных и нажимает "Fight"
    - Проверить, что оба игрока были подключены и игра началась
  expected-result: |
    Пока второй игрок не подключился, игра находится в статусе ожидания
    После подключения второго игрока игра автоматически переходит в режим активного игрового процесса
    Оба игрока видят интерфейс с двумя редакторами, таймером и заданием

- summary: |
    Отказ второго игрока от приглашения
  requirement: |
    В случае отказа второго игрока игра не должна стартовать, а первый игрок должен получить уведомление об отказе.
  prerequisites: |
    Первый игрок зарегистрирован, создал игру и отправил приглашение второму игроку
    Второй игрок зарегистрирован и авторизован
    Второй игрок получил уведомление о приглашении
  test-data: |
    empty      
  steps:
    - Второй игрок получает приглашение и выбирает “Отказать” или “Отклонить”
    - Проверить, что игра не стартовала
    - Проверить, что первый игрок получает уведомление об отказе
    - Проверить, что первый игрок остается в режиме ожидания или может отменить игру
  expected-result: |
    Игра не переходит в активный режим
    Первый игрок уведомляется об отказе второго игрока
    Игра остается в статусе ожидания или может быть отменена первым игроком    

- summary: |
    Завершение игры по победе одного из игроков
  requirement: |
    Игра должна завершаться с объявлением победителя, а оба участника должны получать соответствующие уведомления.
  prerequisites: |
    Игра активна с двумя подключенными игроками 
    Оба игрока успешно написали и проверили свои решения
    Проверка решения прошло успешно
  test-data: |
    empty        
  steps:
    - Первый или второй игрок нажимает кнопку "Check" для оценки решения
    - Система определяет победителя на основе результатов проверки
    - В случае победы отображается сообщение о победителе
    - Другой игрок получает уведомление о проигрыше
    - Обе стороны видят итоговую страницу с результатами и победителем
    - Игроки могут нажать кнопку "Finish" или "Exit" для завершения игры
  expected-result: |
    Игра автоматически завершается с объявлением победителя
    Оба участника получают уведомления с результатом
    Игра переходит в статус "завершена", удаляется из активных

- summary: |
    Завершение игры по проигрышу одного из игроков
  requirement: |
    После завершения задач оба игрока должны получить уведомление о результате, а игра должна корректно завершиться с указанием проигравшего.
  prerequisites: |
    Игра активна с двумя подключенными игроками
    Оба игрока завершили выполнение своих решений
    Проверка решений выполнена системой
  test-data: |
    empty    
  steps:
    - Один из игроков нажимает "Check" для оценки решения
    - Система определяет, что один игрок не справился с задачей или его решение неверно
    - Система объявляет другого игрока победителем
    - Отображается сообщение о победе одного игрока и проигрыше другого
    - Второй игрок получает уведомление о победе
    - Проигравший игрок видит финальный результат и может завершить игру
  expected-result: |
    Игра автоматически заканчивается с объявлением победителя и проигравшего
    Оба участника получают уведомления с результатом
    Игра переходит в статус "завершена" 

- summary: |
    Возможность сдаться во время игры
  requirement: |
    Игроки должны иметь возможность сдаться по своему желанию, а результат должен корректно фиксироваться и объявляться.
  prerequisites: |
    Игра активно идет с двумя подключенными игроками
    Оба игрока успешно начали выполнение решений
    Игра находится в процессе, не завершена
  test-data: |
    empty       
  steps:
    - Один из игроков нажимает кнопку "Сдаться" 
    - Система зафиксирует действие игрока как сдачу
    - Игра автоматически завершится, и победителем считается другой участник
    - Второй игрок видит уведомление о победе по причине сдавшегося соперника
    - Обе стороны видят финальный результат и статистику
  expected-result: |
    Игра корректно завершается при сдаче
    Победитель объявляется правильно
    Оба игрока получают уведомления о результате
    Игра переходит в статус "завершена"

- summary: |
    Завершение игры по таймеру
  requirement: |
    Игра должна автоматически завершаться по истечении назначенного времени, и результаты должны быть корректно объявлены.
  prerequisites: |
    Игра активно идет с двумя подключенными игроками
    Время игры установлено
    Оба игрока начали выполнение решений и работают одновременно
    Время таймера еще не истекло
  test-data: |
    empty       
  steps:
    - Игра ведется в течение назначенного времени
    - Когда время истекает, система автоматически завершает игру
    - Объявляется победитель или ничья, согласно текущему статусу решений
    - Оба игрока получают уведомление о завершении по таймеру
    - На экране отображается финальный результат и таймер остановлен
  expected-result: |
    Игра автоматически завершается по истечении времени
    Объявляется победитель или ничья
    Уведомления доставлены обоим участникам
    Игра переходит в статус "завершена"
  
